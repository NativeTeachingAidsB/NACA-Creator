Animate UI/UX Feature Implementation Plan
Executive Summary
This document outlines the implementation plan for integrating Adobe Animate-style features into the Activity Editor, with a focus on keyboard shortcuts, object manipulation, and media library integration that mirrors the Animate workflow.

1. Adobe Animate Feature Analysis
1.1 Core Workflow Features
Timeline & Animation:

Frame-by-frame animation control
Tweening (motion, shape, classic)
Keyframe editing
Timeline scrubbing
Onion skinning for animation preview
Object Manipulation:

Free Transform tool (scale, rotate, skew)
Registration point control
Align & distribute tools
Snap to guides/grid
Object grouping/ungrouping
Drawing & Editing:

Vector drawing tools (pen, brush, shapes)
Fill & stroke controls
Color picker with swatches
Gradient editor
Media Management:

Library panel with folders
Symbol creation & instances
Import assets (images, audio, video)
Asset reuse across frames/scenes
Publishing:

Export to various formats (HTML5, video, sprite sheets)
Optimization settings
Platform-specific exports
1.2 Keyboard Shortcuts (Illustrator-Style)
Action	Shortcut	Implementation Priority
Pan (Hand Tool)	Spacebar (hold)	HIGH
Zoom In/Out	Z + drag up/down	HIGH
Duplicate	Alt/Option + drag	HIGH
Selection Tool	V	MEDIUM
Direct Selection	A	MEDIUM
Free Transform	Q	MEDIUM
Pen Tool	P	LOW (Phase 6)
Rectangle Tool	M	LOW (Phase 6)
Undo/Redo	Cmd/Ctrl + Z/Shift+Z	HIGH
Group	Cmd/Ctrl + G	HIGH
Ungroup	Cmd/Ctrl + Shift + G	HIGH
Bring Forward	Cmd/Ctrl + ]	MEDIUM
Send Backward	Cmd/Ctrl + [	MEDIUM
Bring to Front	Cmd/Ctrl + Shift + ]	MEDIUM
Send to Back	Cmd/Ctrl + Shift + [	MEDIUM
2. NACA Platform Integration
2.1 Dropbox Community Structure
Based on the NACA platform requirements:

Dropbox/
â””â”€â”€ [Community_Name]/
    â”œâ”€â”€ Audio/
    â”‚   â”œâ”€â”€ vocabulary/      # Word pronunciations
    â”‚   â”œâ”€â”€ pronunciation/   # Phonetic examples
    â”‚   â””â”€â”€ cultural/        # Cultural context audio
    â”œâ”€â”€ Images/
    â”‚   â”œâ”€â”€ vocabulary/      # Word illustrations
    â”‚   â”œâ”€â”€ cultural/        # Cultural imagery
    â”‚   â””â”€â”€ activities/      # Activity-specific assets
    â”œâ”€â”€ Vocabulary/
    â”‚   â”œâ”€â”€ core_words.json
    â”‚   â”œâ”€â”€ phrases.json
    â”‚   â””â”€â”€ categories/
    â””â”€â”€ Activities/
        â””â”€â”€ custom_activities/
2.2 Media Library Panel Requirements
Features Needed:

Community Selector - Filter by language community
Search & Filter - Full-text search, type filters, category filters
Grid/List View - Toggle between thumbnail grid and detailed list
Drag-and-Drop - Drag assets from library to canvas
Preview - Audio playback, image zoom, video preview
Asset Management - Upload, categorize, tag assets
Caching - Local cache for offline editing
2.3 NACA API Integration Points
Required API Endpoints (from NACA Host):

// Communities
GET /api/naca/communities
Response: Community[]
// Media Assets
GET /api/naca/communities/{id}/media?type=audio&category=vocabulary
Response: MediaAsset[]
// Search
GET /api/naca/media/search?q=greeting&community={id}
Response: MediaAsset[]
// Upload
POST /api/naca/media/upload
Body: FormData (file, communityId, category, tags)
// Vocabulary
GET /api/naca/communities/{id}/vocabulary
Response: VocabularySet[]
3. Implementation Phases
Phase 2: Editor UX Infrastructure (IMMEDIATE - Week 1)
2.1 Panel System Architecture
Left Panel Structure:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Project Navigator       â”‚ â† Collapsible
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer Hierarchy         â”‚ â† Collapsible
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Scene Manager           â”‚ â† Collapsible
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Right Panel Structure:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Attributes              â”‚ â† Collapsible
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Triggers                â”‚ â† Collapsible
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Media Library           â”‚ â† Collapsible (NEW)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Vocabulary              â”‚ â† Collapsible
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Implementation Tasks:

Resizable Panels

Use react-resizable-panels library
Persist panel widths to localStorage
Min/max width constraints (200px - 600px)
Smooth resize animations
Keyboard Shortcuts

Tab: Toggle left panel
: Toggle right panel
Cmd/Ctrl + 1-9: Jump to specific palettes
Escape: Close all panels
Panel State Management

Store collapse state per palette
Auto-collapse others in accordion mode
Remember user's last workspace layout
2.2 Keyboard Shortcut System
Core Shortcuts to Implement:

// Canvas Navigation
{
  key: 'Space',
  hold: true,
  action: 'enablePanMode',
  description: 'Pan canvas (hold Spacebar)'
},
{
  key: 'z',
  action: 'enableZoomMode',
  description: 'Zoom tool (drag up/down)'
},
// Object Manipulation
{
  key: 'Alt+Drag',
  action: 'duplicateObject',
  description: 'Duplicate object'
},
{
  key: 'Cmd+G',
  action: 'groupSelection',
  description: 'Group selected objects'
},
{
  key: 'Cmd+Shift+G',
  action: 'ungroupSelection',
  description: 'Ungroup selection'
},
// Layer Order
{
  key: 'Cmd+]',
  action: 'bringForward',
  description: 'Bring forward one layer'
},
{
  key: 'Cmd+[',
  action: 'sendBackward',
  description: 'Send backward one layer'
},
{
  key: 'Cmd+Shift+]',
  action: 'bringToFront',
  description: 'Bring to front'
},
{
  key: 'Cmd+Shift+[',
  action: 'sendToBack',
  description: 'Send to back'
}
Phase 3: Object Manipulation (Week 2)
3.1 Canvas Interaction Modes
Pan Mode (Spacebar):

Cursor changes to hand icon
Click-drag moves canvas viewport
Release Spacebar returns to previous tool
Works in any tool mode
Zoom Mode (Z key):

Cursor changes to magnifying glass
Drag up = zoom in, drag down = zoom out
Click without drag = zoom to cursor position
Smooth zoom animations (0.2s duration)
Object Duplication (Alt+Drag):

Hold Alt while dragging selected object
Creates duplicate at new position
Maintains all properties (classes, tags, triggers)
Visual feedback (ghost outline during drag)
3.2 Transform Controls
Rotation Handles:

Corner handles for rotation
Visual rotation degree indicator
Snap to 15Â° increments (hold Shift)
Registration point as rotation pivot
Numeric input in Attributes panel
Registration Point Control:

Draggable pivot point (crosshair icon)
Preset positions: center, corners (TL, TR, BL, BR), edges (T, R, B, L)
Visual indicator on selected object
Affects rotation and scaling behavior
3.3 Multi-Select Operations
Selection Methods:

Shift+Click to add/remove from selection
Drag marquee to select multiple
Cmd/Ctrl+A to select all on screen
Bulk Operations:

Align: left, center, right, top, middle, bottom
Distribute: horizontal, vertical spacing
Match size: width, height, both
Group/ungroup selected objects
Phase 4: Language Input Features (Week 3)
4.1 Character Picker Integration
UI Design:

Floating palette (keyboard shortcut: Ctrl+Shift+C)
Grid layout with categories (diacritics, IPA, symbols)
Recently used section (last 10 characters)
Search by Unicode name
Click to insert at cursor position
Supported Character Sets:

Common diacritics: Ã¡ Ã© Ã­ Ã³ Ãº Ã± Ã¼ Ã§
IPA symbols: É™ Êƒ Ê’ Î¸ Ã° Å‹
Indigenous language characters (configurable per community)
4.2 Auto-Complete for Vocabulary
Features:

Type-ahead suggestions from vocabulary database
Fuzzy matching for misspellings
Category-filtered suggestions
Arrow keys to navigate, Enter to select
Recent entries history (per session)
Phase 5: NACA Media Integration (Week 3-4)
5.1 Media Library Panel UI
Layout Components:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Community: [Plains_Cree â–¼]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ðŸ” Search media...               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Type: [All â–¼] Category: [All â–¼] â”‚
â”‚ [Grid] [List]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”    â”‚
â”‚ â”‚img â”‚ â”‚img â”‚ â”‚ðŸŽµ  â”‚ â”‚img â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜    â”‚
â”‚ word1  word2  audio1 phrase1    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Interaction Features:

Drag asset from library â†’ canvas creates object
Drag asset â†’ existing object replaces imageUrl/audioUrl
Double-click audio to preview playback
Right-click â†’ properties, download, delete
5.2 Asset Integration Workflow
Drag-and-Drop Behavior:

Image Assets:

Creates new GameObject with bounds set to image dimensions
Sets imageUrl to asset path
Auto-generates customId from filename
Adds category tag
Audio Assets:

If dropped on existing object: sets audioUrl
If dropped on canvas: creates invisible audio trigger zone
Shows waveform preview in Attributes panel
Video Assets:

Creates video object with playback controls
Thumbnail preview on canvas
Play/pause trigger setup
5.3 Local Caching Strategy
Cache Management:

attached_assets/
â””â”€â”€ communities/
    â””â”€â”€ [Community_Name]/
        â”œâ”€â”€ audio/
        â”‚   â”œâ”€â”€ vocabulary/
        â”‚   â””â”€â”€ cultural/
        â”œâ”€â”€ images/
        â”‚   â”œâ”€â”€ vocabulary/
        â”‚   â””â”€â”€ cultural/
        â””â”€â”€ .cache_manifest.json
Manifest Format:

{
  "version": "1.0",
  "lastSync": "2025-01-01T12:00:00Z",
  "assets": [
    {
      "id": "asset-123",
      "type": "audio",
      "category": "vocabulary",
      "filename": "hello.mp3",
      "dropboxPath": "/Plains_Cree/Audio/vocabulary/hello.mp3",
      "localPath": "./communities/Plains_Cree/audio/vocabulary/hello.mp3",
      "cachedAt": "2025-01-01T11:00:00Z",
      "fileSize": 45632,
      "hash": "sha256:abc123..."
    }
  ]
}
4. Technical Specifications
4.1 New Components to Build
GameCanvas Enhancements:

// client/src/components/editor/GameCanvas.tsx
interface CanvasMode {
  type: 'select' | 'pan' | 'zoom' | 'draw';
  isActive: boolean;
  cursor: CSSCursor;
}
interface TransformHandles {
  rotation: boolean;
  scale: boolean;
  registrationPoint: { x: number; y: number };
}
MediaLibraryPanel (already created, needs enhancement):

// client/src/components/editor/MediaLibraryPanel.tsx
interface MediaLibraryProps {
  onAssetDrop: (asset: MediaAsset, position: Point) => void;
  onAssetAssign: (asset: MediaAsset, objectId: string) => void;
  selectedCommunity?: string;
}
KeyboardShortcutManager:

// client/src/hooks/use-keyboard-shortcuts.ts
interface ShortcutConfig {
  key: string;
  modifiers?: ('Cmd' | 'Ctrl' | 'Shift' | 'Alt')[];
  hold?: boolean;
  action: string;
  description: string;
  enabled?: boolean;
}
4.2 State Management Updates
Canvas State:

interface CanvasState {
  mode: CanvasMode;
  zoom: number;
  pan: { x: number; y: number };
  selection: string[]; // object IDs
  clipboard: GameObject[];
  snapToGrid: boolean;
  showGuides: boolean;
}
Media Library State:

interface MediaLibraryState {
  selectedCommunity: string | null;
  searchTerm: string;
  filters: {
    type: 'all' | 'audio' | 'image' | 'video';
    category: string;
  };
  viewMode: 'grid' | 'list';
  cachedAssets: Map<string, MediaAsset>;
}
4.3 API Route Extensions
Server Routes to Add:

// server/routes.ts
// Media Library
app.get('/api/communities', async (req, res) => {
  const communities = await mediaService.getCommunities();
  res.json(communities);
});
app.get('/api/media', async (req, res) => {
  const { communityId, type, category } = req.query;
  const assets = await mediaService.getMediaAssets(
    communityId as string,
    type as string,
    category as string
  );
  res.json(assets);
});
app.post('/api/media/cache', async (req, res) => {
  const asset = req.body as MediaAsset;
  const localPath = await mediaService.cacheAsset(asset);
  res.json({ success: true, localPath });
});
5. UI/UX Design Specifications
5.1 Animate-Style Visual Language
Color Palette:

Canvas background: #2b2b2b (dark gray)
Panel backgrounds: #1e1e1e (darker gray)
Selected objects: #00a8ff (bright blue outline)
Hover state: #4a4a4a (medium gray)
Registration point: #ff0066 (magenta crosshair)
Rotation handle: #00ff88 (green circle)
Typography:

UI labels: Inter 12px, 500 weight
Panel headers: Inter 14px, 600 weight
Monospace values: JetBrains Mono 11px (for coordinates, sizes)
Spacing:

Panel padding: 12px
Palette gap: 8px
Button spacing: 4px
Icon size: 16px Ã— 16px
5.2 Cursor States
const CursorStates = {
  default: 'default',
  pan: 'grab',
  panning: 'grabbing',
  zoom: 'zoom-in',
  zoomOut: 'zoom-out',
  rotate: 'url(/cursors/rotate.svg), auto',
  resize: 'nwse-resize', // varies by handle
  text: 'text',
  crosshair: 'crosshair'
};
5.3 Animation Timing
Smooth Transitions:

Panel resize: 0.2s cubic-bezier(0.4, 0, 0.2, 1)
Palette collapse: 0.15s ease-in-out
Zoom: 0.2s cubic-bezier(0.4, 0, 0.2, 1)
Pan: No animation (instant response)
Object drag: No animation (instant response)
6. Testing Requirements
6.1 Keyboard Shortcut Testing
Test Cases:

Spacebar hold activates pan mode, release deactivates
Z key activates zoom, drag up/down zooms correctly
Alt+Drag duplicates object at correct position
Cmd+G groups selected objects
All shortcuts work with Cmd (Mac) and Ctrl (Windows)
6.2 Media Library Testing
Test Cases:

Community selector loads all communities
Search filters assets by filename and tags
Type/category filters work correctly
Drag-and-drop creates objects with correct properties
Local cache persists across sessions
Cache invalidation works on Dropbox changes
6.3 Transform Testing
Test Cases:

Rotation handle rotates around registration point
Shift+Rotate snaps to 15Â° increments
Registration point draggable to any position
Multi-select maintains relative positions during transform
Undo/redo works for all transform operations
7. Documentation Deliverables
7.1 User Guide
Sections:

Keyboard Shortcuts Reference
Canvas Navigation (Pan, Zoom)
Object Manipulation (Rotate, Scale, Duplicate)
Media Library Usage
Character Picker Guide
Vocabulary Integration
7.2 Developer Guide
Sections:

Component Architecture
State Management Patterns
NACA API Integration
Local Caching Strategy
Testing Guidelines
8. Timeline & Milestones
Week 1: Panel System & Shortcuts
Day 1-2: Resizable panel implementation
Day 3-4: Keyboard shortcut system
Day 5: Panel state persistence
Week 2: Object Manipulation
Day 1-2: Pan/Zoom modes
Day 3-4: Transform controls (rotation, registration)
Day 5: Multi-select operations
Week 3: Language & Media
Day 1-2: Character picker
Day 3-4: Media library panel enhancements
Day 5: Drag-and-drop integration
Week 4: Polish & Testing
Day 1-2: UI/UX refinements
Day 3-4: Comprehensive testing
Day 5: Documentation completion
9. Success Metrics
User Experience:

Average time to create activity: < 10 minutes
Keyboard shortcut adoption: > 70% of power users
Media library search time: < 2 seconds
Technical Performance:

Canvas pan/zoom: 60 FPS on mobile
Asset caching: < 1 second per file
Search response: < 100ms
Integration Quality:

NACA API uptime: > 99.9%
Cache hit rate: > 80%
Dropbox sync errors: < 0.1%
10. Dependencies & Prerequisites
NACA Host Application Must Provide:

Community management API
Dropbox folder structure API
Media asset search/filter API
Vocabulary database API
WebSocket endpoint for real-time sync
Third-Party Libraries:

react-resizable-panels - Panel resizing
react-hotkeys-hook - Keyboard shortcuts
gsap - Animation engine (already included)
react-dnd - Drag-and-drop (consider for media library)
This document provides a comprehensive blueprint for the Build Agent to implement Adobe Animate-style features with full NACA platform integration. All specifications align with the existing codebase architecture and roadmap milestones.